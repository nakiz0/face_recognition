{% extends "base.html" %}
{% block content %}
<h2>ðŸ‘¤ My Attendance</h2>

<div class="card">
  <h3>ðŸ‘¤ Student Information</h3>
  <p><strong>Username:</strong> {{ user.username }}</p>
  <p><strong>Email:</strong> {{ user.email or 'Not provided' }}</p>
  <p><strong>Role:</strong> <span style="background: #d1ecf1; color: #0c5460; padding: 4px 8px; border-radius: 4px; font-size: 12px;">{{ user.role.title() }}</span></p>
  <p><strong>Member Since:</strong> {{ user.created_at.strftime('%B %d, %Y') if user.created_at else 'Unknown' }}</p>
</div>

<div class="card">
  <h3>ðŸ“Š Attendance Records</h3>
  {% if attendance %}
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Subject</th>
          <th>Time</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {% for a in attendance %}
          <tr>
            <td>{{ a.date }}</td>
            <td>{{ a.subject }}</td>
            <td>{{ a.time }}</td>
            <td>
              {% if a.status == 'Present' %}
                <span style="background: #d4edda; color: #155724; padding: 4px 8px; border-radius: 4px; font-size: 12px;">âœ“ Present</span>
              {% else %}
                <span style="background: #f8d7da; color: #721c24; padding: 4px 8px; border-radius: 4px; font-size: 12px;">âœ— {{ a.status }}</span>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p style="color: #666; padding: 20px; text-align: center;">No attendance records yet.</p>
  {% endif %}
</div>
{% endblock %}
